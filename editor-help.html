<!DOCTYPE HTML>

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta charset="utf-8">
  <meta http-equiv="content-type" content=
  "text/html; charset=utf-8">

  <title>guidepost editor help</title>

<style>
section {
  font-weight: bold;
  margin-top: 10px;
  margin-bottom: 10px;
}
</style>

</head>

<body>
  <h1>Help</h1>

  <p><b>tagy:</b> stitky popisujici co se nachazi na fotce.
  Informace o obsahu fotky, o tom co na ni vidime. Prosim
  <b>nevkladejte</b> tagy ve smyslu osm - zadne ele:123 nebo
  tourism:information - nema zadny smysl duplikovat openstreetmap
  data. Vyjimka je ref:xxx, zato je nutne otagovat vsechny mozne
  referencni cisla, ktere na fotografii nalezneme. Je vhodne vlozit
  tag rozcestnik, pokud se na fotce nachazi, dale treba zelena,
  nebo cyklo atd. Je nutne taky otagovat mapy (mapa), nebo fotku
  turisticke znacky oznacujici konec/zacatek nebo treba odbocku k
  hradu ktera nema vlastni rozcestnik (znaceni). Strom netagujte,
  byly by vsude.</p>

  <h1>Changelog</h1>

  <ul>
    <li>151221: pridana polozka note - Poznamka</li>
    <li>151228: oznaceni pro smazani</li>
    <li>151229: mazani funguje, mazani je v podstate akce ktera se
    nebude delat, mazat se budou pouze fotky duplicitni a ilegalni.</li>
    <li>160302: tagy, api call na ziskani</li>
    <li>160307: tagy, pridavani, autocomplete</li>
    <li>160315: tagy, vyhledavani, cistej JSON output</li>
    <li>160323: move, exif</li>
    <li>160329: ping, robot</li>
    <li>180520: gpx, json</li>
    <li>180524: time</li>
    <li>180613: projekty start</li>
    <li>180817: projekty, session a prihlaseni v podsate funguje.</li>
    <li>181001: migrace na openstreetmap.social</li>
  </ul>
  <hr>

  <h1>Public API</h1>

  <ul>
    <li><section>all</section>
      <dl>
        <dt>GET</dt>
        <dd>Zobrazi vsechny zaznamy</dd>
        <dd><a href='http://api.openstreetmap.social/table/all'>example</a></dd>
        <dd><a href='http://api.openstreetmap.social/table/all?output=json'>example json output</a></dd>
      </dl>
    </li>

    <li><section>count</section>
      <dl>
        <dt>GET</dt>
        <dd>Zobrazi pocet zaznamu</dd>
        <dd><a href='http://api.openstreetmap.social/table/count'>example</a></dd>
      </dl>
    </li>
    <li><section>get/from_id/to_id</section>

      <p><a href=
      'http://api.openstreetmap.social/table/get/1/3?output=html'>example</a></p>
    </li>

    <li><section>leaderboard</section></li>

    <li><section>username</section></li>
<dl>
<dt>
zobrazi uzivatelske jmeno prihlaseneho uzivatele
</dt>
</dl>
    <li><section>name</section></li>

    <li><section>id/hodnota</section>

      <p>Zobrazí položku db s id rovnajici se hodnota<br>
      <a href=
      'http://api.openstreetmap.social/table/id/100?output=html'>example</a></p>
    </li>

    <li><section>ref/hodnota</section>

      <p>Zobrazí vsechny položky db s ref rovnajici se hodnota<br>
      <a href=
      'http://api.openstreetmap.social/table/ref/100?output=html'>example</a></p>
    </li>

    <li><section>name/hodnota</section>

      <p>Zobrazí vsechny položky db se jmenem autora rovnajici se
      hodnota<br>
      <a href=
      'http://api.openstreetmap.social/table/name/bublifuk?output=html'>
      example</a></p>
    </li>

    <li><section>note/hodnota</section>

      <p>Zobrazí vsechny položky db s poznamka rovnajici se
      hodnota<br>
      <a href=
      'http://api.openstreetmap.social/table/note/100?output=html'>example</a></p>
    </li>

    <li><section>isedited/column/id</section>

      <p>vrati pocet editaci atributu col pro id</p>
      <p>column - ref|note|...</p>
    </li>

    <li><section>isdeleted/id</section>

      <p>vrati zda id je oznaceno pro smazani</p>
    </li>

    <li><section>close</section>
    typ volani GET<br>
    vrati polozky ve vzdalenosti distance od lat,lon<br>
    parametry lat,lon,distance, vzdy nastavi geojson output
    <a href='http://api.openstreetmap.social/table/close?lat=49.709297&amp;lon=17.07934&amp;distance=1000'>
    example</a></li>

    <li><section>tags/id</section>
      <dl>
      <dt>typ volani GET</dt>
      <dd>vrati tagy pro fotku id</dd>
      <dt>typ volani DELETE</dt>
      <dd>smaze tagy pro fotku id parametry url
      /id/key:value</dd>
      <dt>typ volani POST</dt>
      <dd>prida tagy pro fotku id parametry post id tag</dd>
      </dl>
    </li>

    <li>tags/add/id/value - no longer used</li>

    <li><section>tags/hashtag/key:value</section>
    typ volani GET<br>
    vyhledava tagy (v db je to brano jako klic a hodnota), tag bez
    hodnoty se hleda jako klic: nebo klic, hodnota bez klice
    :hodnota.<br>
    <a href=
    'http://api.openstreetmap.social/table/hashtag/k:v'>example</a></li>

    <li><section>setbyid</section>
    typ volani POST<br>
    nastavuje vlastnost fotky<br>
    post parametry: id:specialni format - "vlastnost_id" vlastnost
    je sloupec v db, value</li>

    <li><section>move</section>
    typ volani POST<br>
    presun fotky<br>
    post parametry: id, lat, lon</li>

    <li><section>exif/id</section>
    typ volani GET<br>
    vraci exif fotky<br>
    parametry: id</li>

    <li><section>ping</section>
    typ volani GET<br>
    vraci pong</li>

    <li><section>robot</section>
    typ volani GET<br>
    spusti automaticke schvaleni nekterych akci.<br>
    (pridani tagu, tbd...)</li>

    <li><section>serverinfo</section>
    typ volani GET<br>
    dump %ENV, privileged_access</li>

    <li><section>notify</section>
    typ volani POST<br>
    post parametry: lat, lon, text<br>
    posle zpravu adminovy serveru</li>

    <li><section>licenseinfo</section>
    typ volani GET<br>
    vypise zname licence, jine nelze pouzit</li>

    <li><section>sequence/xy</section>
    typ volani GET<br>
    parametry: 2 pismena zacatku ref rozcestniku, vypise seznam
    vsech 1000 referenci, DB znamena ze je v db</li>

    <li><section>remove</section>
    typ volani GET<br>
    parametry: id</li>

    <li>
      <section>timeadded</section>

      <dl>
        <dt>typ volani GET</dt>

        <dd><a href=
        'http://api.openstreetmap.social/table/timeadded/14000?output=html'>
        example</a></dd>

        <dt>parametry: id</dt>

        <dd>zobrazi cas pridani fotky, pokud je znam, format zatim
        pouze 2017-07-17 15:58:39</dd>
      </dl>
    </li>

    <li>
      <section>timetaken</section>

      <dl>
        <dt>typ volani GET</dt>

        <dd><a href=
        'http://api.openstreetmap.social/table/timetaken/100?output=html'>
        example</a></dd>

        <dt>parametry: id</dt>

        <dd>zobrazi cas vyfoceni z exifu pokud je znam, format
        zatim pouze 2017-07-17 15:58:39</dd>
      </dl>
    </li>

    <li>
      <section>project/nazev TBD</section>

      <dl>
        <dt>GET</dt>

        <dd>vrati seznam fotek v projektu</dd>

        <dt>POST</dt>

        <dd>prida fotku do projektu</dd>

        <dt>DELETE</dt>

        <dd>smaze fotku z projektu</dd>
      </dl>
    </li>

    <li>
      <section>projectlist</section>

      <dl>
        <dt>GET</dt>

        <dd>vrati seznam projektu</dd>

        <dt>POST</dt>

        <dd>prida projekt</dd>

        <dt>DELETE</dt>

        <dd>smaze projekt</dd>
      </dl>
    </li>

    <li>
      <section>loginxxx</section>

      <dl>
        <dt>GET</dt>

        <dd>iniciuje logovaci proces pro xxx platformu, xxx je
        github, nextcloud(tbd)</dd>
      </dl>
    </li>

    <li>
      <section>logout</section>

      <dl>
        <dt>GET</dt>

        <dd>odhlasi prihlaseneho uzivatele, smaze jeho session</dd>
      </dl>
    </li>
  </ul><br>

  <h2>parametry pro definici a filtrovany vystupu</h2><code>format:
  url?parametr=hodnota&amp;parametr2=hodnota2</code>

  <p>zmeni format vystupu, nebo vrati http status 400</p>

  <ol>
    <li><b>bbox</b> vymezuje oblast pro dotaz =-20,-40,60,40</li>

    <li>
      <b>output</b> specifikace vystupu:

      <ol>
        <li>html - vystup v html&nbsp;</li>

        <li>geojson - vystup v geojson</li>

        <li>kml - vystup v kml (Google Earth)</li>

        <li>gpx - gpx s extension na vzdalenost od garminu</li>

        <li>json - cisty json.</li>
      </ol>
    </li>

    <li><b>limit</b> - omezuje pocet vracenych vysledku</li>

    <li><b>offset</b> - umoznuje zobrazeni od urciteho zaznamu,
    takze ve spolupraci s limit to dela od-do</li>
  </ol>

  <h3>privileged api</h3>

  <ol>
    <li>delete/id smazani</li>

    <li>remove zadost o smazani<br>
    typ volani GET<br>
    parametry: id</li>
  </ol>

<pre>produced by tidy -utf8  -i -o o.html -f zzzzzzzzzz editor-help.html</pre>
</body>
</html>

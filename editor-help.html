<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=windows-1250">
    <title>guidepost editor help</title>
  </head>
  <body>
    <h1>Help</h1>
    <p><b>tagy:</b> stitky popisujici co se nachazi na fotce. Informace o obsahu fotky, o tom co na ni vidime. 
    Prosim <b>nevkladejte</b> tagy ve smyslu osm - zadne ele:123 nebo tourism:information - nema zadny smysl duplikovat openstreetmap data.
    Vyjimka je ref:xxx, zato je nutne otagovat vsechny mozne referencni cisla, ktere na fotografii nalezneme.
    Je vhodne vlozit tag rozcestnik, pokud se na fotce nachazi, dale treba zelena, nebo cyklo atd. 
    Je nutne taky otagovat mapy (mapa), nebo fotku turisticke znacky oznacujici konec/zacatek nebo treba odbocku k hradu ktera nema vlastni rozcestnik (znaceni).
    Strom netagujte, byly by vsude.
    <p>

    <h1>Changelog</h1>
    <ul>
    <li>151221: pridana polozka note - Poznamka
    <li>151228: oznaceni pro smazani
    <li>151229: mazani funguje, mazani je v podstate akce ktera se nebude delat, mazat se budou pouze fotky duplicitni a nesouvisejici z turistikou.
    <li>160302: tagy, api call na ziskani
    <li>160307: tagy, pridavani, autocomplete
    <li>160315: tagy, vyhledavani, cistej JSON output
    <li>160323: move, exif
    <li>160329: ping, robot
    </ul>
    <hr>
    <h1>public api</h1>
    <ul>
      <li>all<p>Zobrazi vsechny zaznamy</p></li>
      <li>count<p>Zobrazi pocet zaznamu</p></li>
      <li>get/from_id/to_id<p><a href='http://api.openstreetmap.cz/table/get/1/3?output=html'>example</a></p></li>
      <li>leaderboard</li>
      <li>username</li>
      <li>delete/id</li>
      <li>name</li>

      <li>id/hodnota   <p>Zobrazí položku db s id rovnajici se hodnota<a href='http://api.openstreetmap.cz/table/id/100?output=html'>example</a></p></li>
      <li>ref/hodnota  <p>Zobrazí včechny položky db s ref rovnajici se hodnota<a href='http://api.openstreetmap.cz/table/ref/100?output=html'>example</a></p></li>
      <li>name/hodnota <p>Zobrazí včechny položky db se jmenem autora rovnajici se hodnota<a href='http://api.openstreetmap.cz/table/name/bublifuk?output=html'>example</a></p></li>
      <li>note/hodnota <p>Zobrazí včechny položky db s poznamka rovnajici se hodnota<a href='http://api.openstreetmap.cz/table/note/100?output=html'>example</a></p></li>

      <li>isedited/col/id <p>vrati pocet editaci atributu col pro id</p>
      <li>isedited/column/id <p>column - ref|note|...</p></li>
      <li>isdeleted/id <p>vrati zda id je oznaceno pro smazani</p>
      <li>close 
        <br>typ volani GET
        <br>vrati polozky ve vzdalenosti distance od lat,lon
        <br>parametry lat,lon,distance, vzdy nastavi geojson output <a href='http://api.openstreetmap.cz/table/close?lat=49.709297&lon=17.07934&distance=1000'>example</a>
      <li>tags/id <p>vrati tagy pro fotku id 
        <br><a href='http://api.openstreetmap.cz/table/tags/10'>example</a></p>
      <li>tags/add/id/value <p>prida tag</p>
      <li>tags/hashtag/key:value
        <br>typ volani GET
        <br>vyhledava tagy (v db je to brano jako klic a hodnota), tag bez hodnoty se  hleda jako klic: nebo klic, hodnota bez klice :hodnota.
        <br><a href='http://api.openstreetmap.cz/table/hashtag/k:v'>example</a></p>
      <li>setbyid
        <br>typ volani POST
        <br>nastavuje vlastnost fotky
        <br>post parametry: id:specialni format - "vlastnost_id" vlastnost je sloupec v db, value
      <li>move
        <br>typ volani POST
        <br>presun fotky
        <br>post parametry: id, lat, lon
      <li>exif/id
        <br>typ volani GET
        <br>vraci exif fotky
        <br>parametry: id
      <li>ping
        <br>typ volani GET
        <br>vraci pong
      <li>robot
        <br>typ volani GET
        <br>spusti automaticke schvaleni nekterych akci.
        <br>(pridani tagu, tbd...)
      <li>serverinfo
        <br>typ volani GET
        <br>dump %ENV, privileged_access
      <li>notify
        <br>typ volani POST
        <br>post parametry: lat, lon, text
        <br>posle zpravu adminovy serveru
      <li>licenseinfo
      <br>typ volani GET
      <br>vypise zname licence, jine nelze pouzit
    </ul>
    <br>

    <h2>parametry pro definici a filtrovany vystupu</h2>
      <code> format: url?parametr=hodnota&amp;parametr2=hodnota2 </code>
      <p>zmeni format vystupu, nebo vrati http status 400<p>
    <ol>
      <li><b>bbox</b>
        vymezuje oblast pro dotaz
        =-20,-40,60,40
      <li><b>output</b>
        specifikace vystupu:
      <ol>
        <li>html - vystup v html&nbsp;
        <li>geojson - vystup v geojson
        <li>kml - tbd
        <li>json - cisty json.
      </ol>
      <li><b>limit</b> - omezuje pocet vracenych vysledku
      <li><b>offset</b> - umoznuje zobrazeni od urciteho zaznamu, takze ve spolupraci s limit to dela od-do
    </ol>
  </body>
</html>

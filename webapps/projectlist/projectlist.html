<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate">
  <title>Available projects</title>

  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="menu.css">

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="menu.js"></script>

<script>
var host = "api.openstreetmap.social";

function xxpost()
{
  term = $("#addinput").val();
  alert(term);

  var jqxhr = $.post( "https://" + host + "/table/projectlist", { add: term, time: "2pm" })
  .done(function() {
    alert( "second success" );
  })
  .fail(function() {
    alert( "error" );
  })
  .always(function() {
    alert( "finished" );
  });
}

function xxdelete()
{
  term = $("#delinput").val();
  alert(term);

$.ajax({
    url: 'https://" + host + "/table/projectlist',
    method: 'DELETE',
    data: { project: term},
    success: function(result) {
        // handle success
    },
    error: function(request,msg,error) {
        // handle failure
    }
});}



</script>

</head>
<body onload="init_menu()">

<div class="topcorner">

&nbsp;
<div id="navmenu" class="navmenu">
<img src="bora.png" width="24px" height="24px"><img src="navmenu.png" width="20px" height="20px">
</div>
</div>

<ul id="menu" class="topcornermenu initially_hidden">
  <li><div><b><span id='username'>username</span></b></div>
  <li><div>Profile</div></li>
  <li><div></div></li>
  <li><div><a href="https://api.openstreetmap.social/webapps/login.html">Login ...</a></div></li>
  <li><div><a href="https://api.openstreetmap.social/webapps/logout.html">Logout ...</a></div></li>
  <li><div></div>
  <li><div><a href="https://api.openstreetmap.social/editor-help.html">About ...</a></div></li>
</ul>

<h1>Manage projects</h1>

<h2>List of projects (maintainer)</h2>
<script>
$.get( "https://" + host + "/table/projectlist", function( data ) {
 // alert( "Data Loaded: " + data );
    $( "#resultget" ).empty().append(data);
});
</script>

<div id="resultget"></div>
 

<h2> add project</h2>

<input id="addinput" type="text" name="add" placeholder="add project">
<input type="button" value="add" onclick="xxpost()">

<div id="result"></div>

<h2>delete project</h2>

<input id="delinput" type="text" name="add" placeholder="delete project">
<input type="button" value="delete" onclick="xxdelete()">

</body>
</html>

